<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>댓글 작성 폼</title>
</head>
<body>
<h1>댓글 작성 폼</h1>
<form id="commentForm">
    <label for="boardId">게시글 ID:</label>
    <input type="number" id="boardId" name="boardId"><br><br>

    <label for="content">내용:</label><br>
    <textarea id="content" name="content" rows="4" cols="50"></textarea><br><br>

    <label for="writer">작성자:</label>
    <input type="text" id="writer" name="writer"><br><br>

    <button type="button" onclick="addComment()">댓글 추가</button>
</form>

<script>
    function addComment() {
        var commentData = {
            "comment_ID": 9,
            "board_ID": document.getElementById("boardId").value,
            "content": document.getElementById("content").value,
            "writer": document.getElementById("writer").value
        };

        // AJAX를 사용하여 댓글을 서버로 전송
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/board/view/" + commentData.board_ID + "/comment", true);
        xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        console.log(commentData);
        xhr.onreadystatechange = function () {
            if (xhr.readyState === XMLHttpRequest.DONE) {
                if (xhr.status === 200) {
                    alert("댓글이 추가되었습니다.");
                } else {
                    alert("댓글 추가에 실패했습니다.");
                }
            }
        };
        xhr.send(JSON.stringify(commentData));
    }
</script>
</body>
</html>